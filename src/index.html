<!DOCTYPE html>
<html>
<head>
  <title>My Riot App</title>
  <link rel="stylesheet" href="style.css">
  <script src="index.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.0/milligram.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
  <div class="container">
    <div class="row justify-content-center">
      <main class="column column-60" style="margin: 0 auto">

        <!--
        <h1>Hello that's my first Riot.js App</h1>
        <div is="my-component" data-riot-component message="Hello There">
        </div>
        -->

        <div class="donation-progress" id="donation-bars">
          <!--
        <div class="donation-item">
          <p><b>Donation 1</b></p>
          <div class="progress-bar">
            <div class="progress-fill" style="width: 75%;"></div>
            <div class="custom-fraction-text">175/250 boxes</div>
          </div>
        </div>
        <div class="donation-item">
          <p><b>Donation 2</b></p>
          <div class="progress-bar">
            <div class="progress-fill" style="width: 50%;"></div>
            <div class="custom-fraction-text">100/200 cans</div>
          </div>
        </div>
        <div class="donation-item">
          <p><b>Donation 3</b></p>
          <div class="progress-bar">
            <div class="progress-fill" style="width: 60%;"></div>
            <div class="custom-fraction-text">25/40 pounds</div>
          </div>
        </div>
        <!-- Add more donation items as needed -->

          <script type="text/javascript">
            fetch(
              "https://gist.githubusercontent.com/digertt/d2f522b0c938dc537d00e1215ce23721/raw/d080cf383d70ee1ebf0474f333b5f38e3bb492f0/data.json",
            )
              .then(function (response) {
                return response.json();
              })
              .then(function (dat) {
                generateDat(dat);
              })
              .catch(function (err) {
                console.log("error: " + err);
              });

            function generateDat(dat) {
              let curDiv = document.getElementById("donation-bars");
              for (let i = 0; i < dat.items.length; i++) {
                let itemBar = document.createElement("div");
                itemBar.innerHTML =
                  "<div class=" +
                  '"donation-item"' +
                  ">" +
                  "<p><b>" + dat.items[i].name + "</b></p>" +
                  "<div class=" +
                  '"progress-bar"' +
                  ">" +
                  "<div class=" +
                  '"progress-fill"' +
                  "style=" +
                  '"width: ' +
                  dat.items[i].percentage +
                  '%";' +
                  "></div>" +
                  "<div class=" +
                  '"custom-fraction-text"' +
                  ">" +
                  dat.items[i].number +
                  "/" +
                  dat.items[i].goal +
                  " collected</div>" +
                  "</div>" +
                  "</div>";
                curDiv.appendChild(itemBar);
              }
              
            }
          </script>
        </div>

        <p class="subscribe-text">â†’ Subscribe via <i>email</i> or <i>phone number</i> to 
          stay updated with news of events and future inventory alerts from your favorite organization.</p>
        
        <!-- No form logic -->
        <form class = "my-4">
            <div class = "form-group">
              <label>Your Email here:</label>
              <input type="email" class = "form-control" placeholder = "Email..."> 
            </div>
            <div class = "form-group">
              <label>Your Phone Number here:</label>
              <input type="password" class = "form-control" placeholder = "Phone number..."> 
            </div>
            <button type = "submit" class = "btn btn-primary font-weight-bold">Subscribe</button>
        </form>



        <h2 class = "font-weight-bold text-center"> Organization's Announcement Board </h2>
        <!-- Div below determines board height -->
        <div id = "Announcement-Board" class ="overflow-auto p-4 my-4 bg-light border border-dark border-3" style = "max-height: 400px;">

          <!-- possibly make divs below appendable with need input for h3, img, and p? idk -->

          <!-- Announcement with image on left -->
          <div id = "Announcement-Left-Image" class="row-9 my-3 align-self-center border border-dark rounded">
            <-- Announcement Box --
            <div class="col p-4 align-self-center">
              <-- Individual Announcement --
              <div class="row-sm-8">
                <div class="col p-4 border border-dark rounded">
                  <h3> Announcement Title</h3>
                  <div class="row">
                    <div class="col-4">
                      <img src="charity.png">
                    </div>
                    <-- Description body goes here --
                    <div class="col-8">
                      <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod 
                        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, 
                        quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu 
                        fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa 
                        qui officia deserunt mollit anim id est laborum.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

           <-- Announcement with image on right --
           <div id = "Announcement-Right-Image" class="row-9 my-3 align-self-center border border-dark rounded">
            <-- Announcement Box --
            <div class="col p-4 align-self-center">
              <-- Individual Announcement --
              <div class="row-8">
                <div class="col p-4 border border-dark rounded">
                  <h3> Announcement Title</h3>
                  <div class="row">
                    <-- Description body goes here --
                    <div class="col-8">
                      <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod 
                        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, 
                        quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu 
                        fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa 
                        qui officia deserunt mollit anim id est laborum.
                      </p>
                    </div>
                    <div class="col-4">
                      <img src="charity.png">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <-- Announcement with no Image --
          <div id = "Announcement-No-Image" class="row-9 my-3 align-self-center border border-dark rounded">
            <-- Announcement Box --
            <div class="col p-4 align-self-center">
              <-- Individual Announcement --
              <div class="row-8">
                <div class="col p-4 border border-dark rounded">
                  <h3> Announcement Title</h3>
                  <div class="row">
                    <-- Description body goes here --
                    <div class="col">
                      <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod 
                        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, 
                        quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu 
                        fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa 
                        qui officia deserunt mollit anim id est laborum.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        -->
          <script type="text/javascript">
            fetch(
              "https://gist.githubusercontent.com/digertt/d2f522b0c938dc537d00e1215ce23721/raw/d080cf383d70ee1ebf0474f333b5f38e3bb492f0/data.json",
            )
              .then(function (response) {
                return response.json();
              })
              .then(function (dat) {
                generateDat2(dat);
              })
              .catch(function (err) {
                console.log("error: " + err);
              });
            
            function generateDat2(dat) {
              let curDiv = document.getElementById("Announcement-Board");
              

              for (let i = 0; i < dat.announcements.length; i++) {
                let newsItem = document.createElement("div");
                newsItem.innerHTML = "<div class=\"col p-4 align-self-center\">" + 
                "<div class=\"row-sm-8\">"+
                  "<div class=\"col p-4 border border-dark rounded\">"+
                    "<h3>" + dat.announcements[i].Title + "</h3>"+
                    "<div class=\"row\">"+
                      "<div class=\"col-4\">"+
                        "<img src=\"" + dat.announcements[i].image + "\">"+
                      "</div>"+
                      "<div class=\"col-8\">"+
                        "<p>"+
                          dat.announcements[i].Text + 
                        "<\p>";
                          curDiv.appendChild(newsItem);
                        }
            }
          </script>
        
        
      
      </div>
        
        <!-- Goes to documentaiton pages -->
        <div class = "my-4">
          <a href="about-page.html" id="about-button">About</a>
          <a href="faq-page.html" id="faq-button">FAQ</a>
          <a href="contact-page.html" id="contact-button">Contact</a> 
        </div>

      </main>
      <!-- 
      <aside is="sidebar" data-riot-component class="column"></aside>
      -->
    </div>
  </div>
</body>
</html>
